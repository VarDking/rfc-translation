# rfc-7540 中文翻译

## 1、前言  

超文本传输协议是一个非常成功的协议。但是HTTP/1.1所使用的下层传输协议(RFC7230)的一些特性对当今的web应用带来了一些消极影响。  
特别是，HTTP/1.0只允许每个tcp连接完成一次http请求，在HTTP/1.1中增加了管道技术，但这只是解决了并发请求的，任然存在线头阻塞（HOL）的问题。因此，HTTP/1.0和HTTP/1.1的客户端当有多个请求是，需要创建多个和服务器的连接以达到并发和低时延。  
此外，HTTP头部信息通常是重复和冗余的，产生了不必要的网络流量，同时也导致TCP拥塞控制窗口迅速填满。这样会对新建立的TCP连接产生极大的时延。  
HTTP/2.0通过定义HTTP语意和下层连接的映射解决了这些问题。特别是，允许在同一个连接进行交叉请求，回复以及使用对HTTP头部进行高效编码。允许定义请求优先级，可以让重要的请求得到更快的处理，极大的提升了性能。
HTTP/2.0相比HTTP/1.x对网络更友好，因为减少了TCP连接数量。这意味着减少了连接竞争和更长的连接时间，最终达到更好的网络利用率。

## 2、HTTP/2协议概述

HTTP/2对http语意的传输进行了优化。HTTP/2支持HTTP/1.1的所有核心特性，力求在某些方面更高效。  
HTTP/2基本协议单元是帧，每一种帧都有不同的目的。例如：HEADERS和DATA帧形成http请求和响应。而SETTINGS, WINDOW_UPDATE, 和 PUSH_PROMISE 等帧则是为了其他HTTP/2特性。  
请求的多路技术通过request/response和自己的流做交互而形成。流和流之间是彼此独立的，一个阻塞或者停止的请求（响应）不会影响到其他流的处理。  
流程控制和优先级让流的多路复用成为可能。流控制有助于保证只有能被接收方接收的数据被传输。优先级机制保证了稀缺资源会被重要的流优先使用。  
HTTP/2增加了一个新的交互模式，可以让服务端推送响应给客户端。服务端推送可以让服务端预估的数据推送给客户端，这样权衡了网络利用率和潜在的网络时延。服务端通过一个合成的请求来完成这些操作，发送的是PUSH_PROMISE类型的帧。然后服务器可以通过另外一个流发送响应报文。  
由于一个连接中的http头部会包含了大量的冗余的数据，这些数据在帧中会被压缩。一般情况下，请求会被显著压缩，从而允许多个请求压缩到一个包里。